<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Dashboard - NiceAdmin Bootstrap Template</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="/assets/img/favicon.png" rel="icon">
    <link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Joan&display=swap" rel="stylesheet" />


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- icon cdn -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!-- Bootstarp CSS Files -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />



    <!-- Template Main CSS File -->
    <link rel="stylesheet" type="text/css" href="/css/dashboard.css">
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/appoinment.css" rel="stylesheet" />

    <!-- =======================================================
  * Template Name: NiceAdmin
  * Template URL: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/
  * Updated: Apr 20 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

    <!-- ======= Header ======= -->
    <header id="header" class="header fixed-top d-flex align-items-center">
        <div class="d-flex align-items-center justify-content-between">
            <a href="index.html" class="logo d-flex align-items-center">
                <img src="/assets/website_logo/logo.png" alt="" />
            </a>
            <i class="bi bi-list toggle-sidebar-btn"></i>
        </div>
        <!-- End Logo -->

        <!-- Container for Profile and Log out buttons -->
        <div class="ms-auto d-flex align-items-center">
            <!-- Profile button -->
            <a class="btn-login rounded-5 me-3" href="/profile">Profile</a>
            <!-- Log out button -->
            <a class="btn-login rounded-5" href="#about">Log out</a>
        </div>
    </header><!-- End Header -->

    <!-- ======= Sidebar ======= -->
    <aside id="sidebar" class="sidebar">
        <div>
            <div class="sidebar-profile">
                <img src="/assets/img/profile-img.jpg" />
            </div>
            <p class="text-center mt-2">John doe</p>
        </div>

        <ul class="sidebar-nav" id="sidebar-nav">
            <li class="nav-item">
                <a class="nav-link active" href="/dashboard">
                    <i class="bi bi-grid-fill"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <!-- End Dashboard Nav -->


       
            <li class="nav-item">
                <a class="nav-link" href="/patient/">
                    <i class="fa-solid fa-hospital-user"></i><span>Patient</span>
                </a>
            </li>
            <!-- End Components Nav -->


            <li class="nav-item">
                <a class="nav-link" href="/appoinment/">
                    <i class="fa-regular fa-calendar-check"></i><span>Appoinment</span>
                </a>
            </li>
            <!-- End Forms Nav -->

            <li class="nav-item">
                <a class="nav-link" href="/medicine/">
                    <i class="fa-solid fa-pills"></i><span>Medicine</span>
                </a>
            </li>
            <!-- End Tables Nav -->

            <li class="nav-item">
                <a class="nav-link" href="/test/">
                    <i class="bi bi-clipboard2-pulse-fill"></i><span>Test</span>
                </a>
            </li>
            <!-- End Charts Nav -->
        </ul>
    </aside>

    <main id="main" class="main">
        <section>
            <div class="container">
                <div class="row my-3">
                    <div class="col-lg-10 col-md-10 col-sm-10">
                        <div class="input-group">
                            <span class="input-group-text"><i class="bi bi-search"></i></span>
                            <input type="text" class="form-control" placeholder="Search patient">
                        </div>

                    </div>
                    <div class="col-lg-2 col-md-2 col-sm-2">
                        <form action="#">
                            <!-- <button class="btn btn-outline-success"></button> -->
                            <button type="button" class="btn btn-outline-success btn-add" data-bs-toggle="modal"
                                data-bs-target="#modalDialogScrollable">
                                Add Patient
                            </button>
                        </form>

                        <div class="modal fade" id="modalDialogScrollable" tabindex="-1"
                            aria-labelledby="modalDialogScrollableLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-scrollable modal-md">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="modalDialogScrollableLabel">Add Patient</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <!-- Add Patient Form -->
                                        <form id="addPatientForm" enctype="multipart/form-data">
                                            <div class="mb-3">
                                                <label for="firstName" class="form-label">First Name</label>
                                                <input type="text" class="form-control" id="firstName"
                                                    placeholder="Enter first name like John" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="lastName" class="form-label">Last Name</label>
                                                <input type="text" class="form-control" id="lastName"
                                                    placeholder="Enter last name like John" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="phoneNumber" class="form-label">Phone Number</label>
                                                <input type="tel" class="form-control" id="phoneNumber"
                                                    placeholder="+1 (555) 123-4567" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="gender" class="form-label">Gender</label>
                                                <select class="form-select" id="gender" required>
                                                    <option value="" selected disabled>Choose...</option>
                                                    <option value="M">Male</option>
                                                    <option value="F">Female</option>
                                                    <option value="O">Other</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label for="age" class="form-label">Age</label>
                                                <input type="number" class="form-control" id="age"
                                                    placeholder="Enter age">
                                            </div>
                                            <div class="mb-3">
                                                <label for="dob" class="form-label">Appointment Date</label>
                                                <input type="date" class="form-control" id="dob" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="country" class="form-label">Country</label>
                                                <select class="form-select" id="country" required>
                                                    <option value="" selected Â  disabled>Choose country...</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label for="state" class="form-label">State</label>
                                                <select class="form-select" id="state" required>
                                                    <option value="" selected disabled>Choose state...</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label for="city" class="form-label">City</label>
                                                <select class="form-select" id="city" required>
                                                    <option value="" selected disabled>Choose city...</option>
                                                </select>
                                            </div>

                                            <div class="mb-3">
                                                <label for="city" class="form-label">Zip Code</label>
                                                <input type="text" class="form-control" id="lastName"
                                                    placeholder="90164" required>
                                            </div>
                                            <!-- Image Upload Section -->
                                            <div class="mb-3">
                                                <label for="profilePicture" class="form-label">Profile Picture</label>
                                                <input type="file" class="form-control" id="profilePicture"
                                                    name="profilePicture" accept="image/*">
                                            </div>

                                            <div class="d-flex justify-content-end">
                                                <button type="submit" class="btn btn-primary">Add Patient</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>

                <div class="row">
                    <div class="container">
                        <div class="table-responsive">
                            <table class="table table-hover table-striped align-middle">
                                <thead class="table-dark">
                                    <tr>
                                        <th scope="col" class="text-center">No</th>
                                        <th scope="col" class="text-center">Name</th>
                                        <th scope="col" class="text-center">Phone No.</th>
                                        <th scope="col" class="text-center">Gender</th>
                                        <th scope="col" class="text-center">City</th>
                                        <th scope="col" class="text-center">View</th>
                                        <th scope="col" class="text-center">Book Appointment</th>
                                        <th scope="col" colspan="2" class="text-center">Action</th>
                                    </tr>
                                </thead>
                                <tbody id="table-body">
                                    <tr>
                                        <th scope="row" class="text-center">1</th>
                                        <td class="text-center">Srijan Giri</td>
                                        <td class="text-center">6290138496</td>
                                        <td class="text-center">M</td>
                                        <td class="text-center">Kolkata</td>
                                        <td class="text-center">
                                            <form action="/patient/details" method="get" target="_blank">
                                                <button type="submit" class="btn btn-primary btn-sm">View</button>
                                            </form>
                                        </td>
                                        <td class="text-center">
                                            <form action="#">
                                                <button type="submit"
                                                    class="btn btn-success btn-sm">Appointment</button>
                                            </form>
                                        </td>
                                        <td class="text-center d-flex justify-content-center">

                                            <form action="#">
                                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                            </form>
                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                        </div>

                        <!-- Pagination -->
                        <nav aria-label="..." class="d-flex justify-content-end mt-3 pe-2">
                            <ul class="pagination me-1">
                                <li class="prev-btn">
                                    <a class="page-link disabled" href="#">Previous</a>
                                </li>
                                <div class="page-container">
                                    <div class="d-flex scroll-container">
                                        <li class="page-item">
                                            <a class="page-link active-btn" href="#">1</a>
                                        </li>
                                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                                        <li class="page-item"><a class="page-link" href="#">4</a></li>
                                        <li class="page-item"><a class="page-link" href="#">5</a></li>
                                        <li class="page-item"><a class="page-link" href="#">6</a></li>
                                        <li class="page-item"><a class="page-link" href="#">7</a></li>
                                        <li class="page-item"><a class="page-link" href="#">8</a></li>
                                        <li class="page-item"><a class="page-link" href="#">9</a></li>
                                        <li class="page-item"><a class="page-link" href="#">10</a></li>
                                        <li class="page-item"><a class="page-link" href="#">11</a></li>
                                        <li class="page-item"><a class="page-link" href="#">12</a></li>
                                    </div>
                                </div>
                                <li class="next-btn">
                                    <a class="page-link" href="#">Next</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>

            </div>
            </div>
        </section>

    </main><!-- End #main -->

    <!-- ======= Footer ======= -->
    <footer id="footer" class="footer">
        <div class="copyright">
            &copy; Copyright <strong><span>NiceAdmin</span></strong>. All Rights Reserved
        </div>
        <div class="credits">
            <!-- All the links in the footer should remain intact. -->
            <!-- You can delete the links only if you purchased the pro version. -->
            <!-- Licensing information: https://bootstrapmade.com/license/ -->
            <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/ -->
            Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
        </div>
    </footer><!-- End Footer -->

    <!-- <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
            class="bi bi-arrow-up-short"></i></a> -->

    <!-- Vendor JS Files -->

    <script src=" https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
    <!-- Template Main JS File -->
    <script type="module" src="/js/main.js"></script>
    <script type="module" src="/js/patient_home.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const countrySelect = document.getElementById("country");
            const stateSelect = document.getElementById("state");
            const citySelect = document.getElementById("city");

            // Fetch countries when the page loads
            fetchCountries();

            // Fetch states when a country is selected
            countrySelect.addEventListener("change", function () {
                const country = countrySelect.value;
                fetchStates(country);
            });

            // Fetch cities when a state is selected
            stateSelect.addEventListener("change", function () {
                const state = stateSelect.value;
                fetchCities(state);
            });

            // Fetch list of countries using a public API
            function fetchCountries() {
                fetch("https://restcountries.com/v3.1/all", {
                    method: 'GET'
                })
                    .then(response => response.json())
                    .then(data => {
                        // Loop through the country list
                        data.forEach(country => {
                            const option = document.createElement("option");
                            option.value = country.cca2;  // Country code (use 'cca2' for 2-letter code)
                            option.textContent = country.name.common; // Country name
                            countrySelect.appendChild(option);
                        });
                    })
                    .catch(error => console.error("Error fetching countries:", error));
            }

            // Fetch states for the selected country using an API (GeoDB Cities API)
            function fetchStates(countryCode) {
                // Clear previous states and cities
                stateSelect.innerHTML = '<option value="" selected disabled>Choose state...</option>';
                citySelect.innerHTML = '<option value="" selected disabled>Choose city...</option>';

                fetch(`https://wft-geo-db.p.rapidapi.com/v1/geo/countries/${countryCode}/regions`, {
                    method: 'GET',
                    headers: {
                        'x-rapidapi-key': '4dfd3a0172mshd7df77fa7e5d479p12ddefjsnbeb90a25a39d',
                        'x-rapidapi-host': 'wft-geo-db.p.rapidapi.com'
                    }
                })
                    .then(response => response.json())
                    .then(data => {
                        // Check if data is an array before using forEach
                        if (data.data && Array.isArray(data.data)) {
                            data.data.forEach(state => {
                                const option = document.createElement("option");
                                option.value = state.isoCode;
                                option.textContent = state.name;
                                stateSelect.appendChild(option);
                            });
                        } else {
                            console.error("Invalid state data:", data);
                        }
                    })
                    .catch(error => console.error("Error fetching states:", error));
            }

            // Fetch cities for the selected state
            function fetchCities(stateCode) {
                // Clear previous cities
                citySelect.innerHTML = '<option value="" selected disabled>Choose city...</option>';

                fetch(`https://wft-geo-db.p.rapidapi.com/v1/geo/cities?regionCode=${stateCode}`, {
                    method: 'GET',
                    headers: {
                        'x-rapidapi-key': '4dfd3a0172mshd7df77fa7e5d479p12ddefjsnbeb90a25a39d',
                        'x-rapidapi-host': 'wft-geo-db.p.rapidapi.com'
                    }
                })
                    .then(response => response.json())
                    .then(data => {
                        // Check if data is an array before using forEach
                        if (data.data && Array.isArray(data.data)) {
                            data.data.forEach(city => {
                                const option = document.createElement("option");
                                option.value = city.city;
                                option.textContent = city.city;
                                citySelect.appendChild(option);
                            });
                        } else {
                            console.error("Invalid city data:", data);
                        }
                    })
                    .catch(error => console.error("Error fetching cities:", error));
            }
        });



    </script>

</body>

</html>